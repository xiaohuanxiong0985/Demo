(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a60948ec"],{"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,r=a("a640"),o=a("ae40"),n=r("forEach"),s=o("forEach");t.exports=n&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var i=a("23e7"),r=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"7a82":function(t,e,a){var i=a("23e7"),r=a("83ab"),o=a("9bf2");i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:o.f})},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),r=a("23cb"),o=a("50c4");t.exports=function(t){var e=i(this),a=o(e.length),n=arguments.length,s=r(n>1?arguments[1]:void 0,a),c=n>2?arguments[2]:void 0,l=void 0===c?a:r(c,a);while(l>s)e[s++]=t;return e}},a80f:function(t,e,a){"use strict";var i=a("cab7"),r=a.n(i);r.a},acf2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("canvas",{staticStyle:{width:"292px",height:"292px"},attrs:{id:"canvas",width:"292",height:"292"}})])}],o=(a("4160"),a("4795"),a("cb29"),a("fb6a"),a("0d03"),a("7a82"),a("d3b7"),a("25f0"),a("d4ec")),n=a("bee2"),s=function(){function t(e){for(var a in Object(o["a"])(this,t),this.$data="Object"===this.getBaseType(e.data)?e.data:{},this.$watch="Object"===this.getBaseType(e.watch)?e.watch:{},e.data)this.setData(a)}return Object(n["a"])(t,[{key:"getBaseType",value:function(t){var e=Object.prototype.toString.apply(t);return e.slice(8,-1)}},{key:"setData",value:function(t){Object.defineProperty(this,t,{get:function(){return this.$data[t]},set:function(e){var a=this.$data[t];return a===e||(this.$data[t]=e,this.$watch[t]&&"function"===typeof this.$watch[t]&&this.$watch[t].call(this,e,a)),e}})}}]),t}(),c=function(){function t(e){return Object(o["a"])(this,t),this.properties={canvas:null,percent:0,score:0,radius:146,lineNums:80,totalScore:100,color:[[54,63,255],[134,37,168],[252,3,44]],options:.6},this.tirm=null,this.maxVal=100,this.canvas=e.canvas,this._percent=e.percent||0,this.colorLineNums=this.properties.score/this.maxVal*this.properties.lineNums,this.deg1=12*Math.PI/(9*this.properties.lineNums),this.test=240/this.maxVal,this}return Object(n["a"])(t,[{key:"drawKedy",value:function(t){var e=this.properties,a=e.lineNums,i=e.radius,r=this.deg1;t.save();for(var o=0;o<=a;o++)o%10?(t.beginPath(),t.lineWidth=1,t.strokeStyle="#464646",t.moveTo(i,0),t.lineTo(i-9,0),t.stroke(),t.rotate(r)):(t.beginPath(),t.lineWidth=1,t.strokeStyle="#464646",t.moveTo(i,0),t.lineTo(i-14,0),t.stroke(),t.rotate(r));t.restore()}},{key:"drawNei",value:function(t){var e=this.properties.radius;t.save(),t.beginPath(),t.lineWidth=1,t.strokeStyle="#212121",t.arc(0,0,e-51,0,1.33*Math.PI,!1),t.stroke(),t.restore()}},{key:"drawPoin",value:function(t,e){var a=this.properties.lineNums,i=this.deg1;t.save();for(var r=0;r<=a/10;r++)t.beginPath(),t.lineWidth=2,t.arc(77,0,2,0,360,!1),t.fillStyle="#0A84FF",t.fill(),t.rotate(10*i);t.restore()}},{key:"drawCli",value:function(t){t.save(),t.beginPath(),t.lineWidth=1,t.strokeStyle="#212121",t.arc(0,0,15,0,360,!1),t.stroke(),t.restore()}},{key:"drawClo",value:function(t,e){var a=e.credit,i=e.radius,r=e.test,o=a*r*Math.PI/180;t.save(),t.rotate(o),t.beginPath(),t.moveTo(0,-4),t.bezierCurveTo(-4,-4,-4,4,0,4),t.lineTo(i-30,2),t.bezierCurveTo(i-23,2,i-23,-2,i-30,-2),t.closePath(),t.fillStyle="#0A84FF",t.lineCap="round",t.fill(),t.restore()}},{key:"drawCurrent",value:function(t,e){var a=e.colorLineNums,i=e.radius,r=e.deg1;t.save();for(var o=0;o<=a;o++)o%10?(t.beginPath(),t.lineWidth=1,t.strokeStyle="#0A84FF",t.moveTo(i,0),t.lineTo(i-9,0),t.stroke(),t.rotate(r)):(t.beginPath(),t.lineWidth=1,t.strokeStyle="#0A84FF",t.moveTo(i,0),t.lineTo(i-14,0),t.stroke(),t.rotate(r));t.restore()}},{key:"drawBg",value:function(t,e){var a=e.score,i=e.test,r=e.radius,o=a*i*Math.PI/180;t.save(),t.beginPath(),t.lineWidth=50,t.strokeStyle="rgba(10, 132, 255, .1)",t.arc(0,0,r-25,0,o,!1),t.stroke(),t.restore()}},{key:"drawLabel",value:function(t){t.save(),t.rotate(210*Math.PI/180),t.fillStyle="#b2b2b2",t.font="14px Microsoft yahei",t.textAlign="center",t.fillText("功率",0,45),t.restore()}},{key:"drawRound",value:function(t){var e={x:-57,y:60,w:114,h:50,r:22.5},a=e.x,i=e.y,r=e.w,o=e.h,n=e.r;t.save(),t.beginPath(),t.rotate(210*Math.PI/180),t.moveTo(a+n,i),t.lineTo(a+r-n,i),t.arc(a+r-n,i+n,n,3*Math.PI/2,2*Math.PI),t.lineTo(a+r,i+o-n),t.arc(a+r-n,i+o-n,n,2*Math.PI,Math.PI/2),t.lineTo(a+n,i+o),t.arc(a+n,i+o-n,n,Math.PI/2,Math.PI),t.lineTo(a,i+n),t.arc(a+n,i+n,n,Math.PI,3*Math.PI/2),t.closePath(),t.strokeStyle="#212121",t.stroke(),t.restore()}},{key:"drawText",value:function(t,e){t.save(),t.rotate(210*Math.PI/180),t.fillStyle="#fff",t.font="36px Microsoft yahei",t.textAlign="center";var a=t.measureText(e).width;t.fillText(e,-5,98),t.fillStyle="#fff",t.font="14px Microsoft yahei",t.fillText("W",a/2+5,100),t.restore()}},{key:"start",value:function(t){var e=this,a=this.properties,i=a.score,r=(a.radius,a.lineNums),o=this.deg1,n=(this.test,this.maxVal),s=.04,c=Math.round(2*s/o),l=t||0,h=0,u=function t(){l<i-c?(l+=c,h=l/n*r):l>=i-c&&l<i?(l+=1,h=l/n*r):i&&i<l&&(l-=1,h=l/n*r),e.render(l,h),window.requestAnimationFrame(t)};window.requestAnimationFrame(u)}},{key:"render",value:function(t,e){var a=this,i=this.canvas,r=i.width,o=i.height,n=i.getContext("2d"),s=window.devicePixelRatio||1,c=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,l=s/c,h=this.properties,u=(h.score,h.radius),d=(h.lineNums,this.deg1),f=this.test,v=(this.maxVal,.04),w=(Math.round(2*v/d),o/l/29.2),b=t||0;n.scale(l,l),n.restore(),n.clearRect(0,0,r,o),n.save(),n.translate(r/(2*l),o/(2*l)),n.rotate(150*Math.PI/180),a.drawKedy(n),a.drawNei(n),a.drawPoin(n,e),a.drawCli(n),a.drawLabel(n),a.drawRound(n),a.drawText(n,b,w),a.drawClo(n,{credit:b,radius:u,test:f}),a.drawCurrent(n,{colorLineNums:e,deg1:d,radius:u}),a.drawBg(n,{radius:u,score:b,test:f})}},{key:"watchs",value:function(){var t=this;t.vm=new s({data:{score:0},watch:{score:function(e,a){t.properties.score=e,t.start(a)}}})}},{key:"update",value:function(t){this.vm.score=t}}]),t}(),l=c,h={name:"bilibili-dashboard",mounted:function(){var t=this;this.$nextTick((function(){var e=document.getElementById("canvas"),a=e.getContext("2d"),i=t.getPixelRatio(a);e.style.width=e.width+"px",e.style.height=e.height+"px",e.width=e.width*i,e.height=e.height*i;var r=new l({canvas:e});r.start(),r.watchs(),setTimeout((function(){var t=[40,20,50,10,80,81,83,80,80,81];t.forEach((function(t,e){setTimeout((function(){r.update(t)}),2e3*e)}))}),2e3)}))},methods:{getPixelRatio:function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e}}},u=h,d=(a("a80f"),a("2877")),f=Object(d["a"])(u,i,r,!1,null,"4d68ebd4",null);e["default"]=f.exports},bee2:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("7a82");function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}},cab7:function(t,e,a){},cb29:function(t,e,a){var i=a("23e7"),r=a("81d5"),o=a("44d2");i({target:"Array",proto:!0},{fill:r}),o("fill")},d4ec:function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return i}))}}]);